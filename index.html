<html color-mode="dark">
    <head>
        <title>Plane/Sailing</title>

        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="color-scheme" content="dark light">
        <meta name="theme-color" content="#2C2C25" />

        <link rel="stylesheet" href="https://unpkg.com/leaflet@1.6.0/dist/leaflet.css" integrity="sha512-xwE/Az9zrjBIphAcBb3F6JVqxf46+CDLwfLMHloNu6KEQCAWi6HcDUbeOfBIptF7tcCzusKFjFw2yuvEpDL9wQ==" crossorigin=""/>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Exo&display=swap">
        <link rel="stylesheet" href="style.css" type="text/css">

        <script src="https://code.jquery.com/jquery-3.4.1.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
        <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js" integrity="sha256-VazP97ZCwtekAsvgPBSUwPFKdrwD3unUfSGVYrahUqU=" crossorigin="anonymous"></script>
        <script src="https://unpkg.com/leaflet@1.6.0/dist/leaflet.js" integrity="sha512-gZwIG9x3wUXg2hdXF6+rVkLF/0Vi9U8D2Ntg4Ga5I5BZpVkVxlJWbSQtXPSiUTtC0TjtGOmxa1AJPuV0CPthew==" crossorigin=""></script>
        <script src="https://cdn.jsdelivr.net/npm/milsymbol@2.0.0/dist/milsymbol.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.0/moment.min.js"></script>

        <link rel="icon" type="image/svg+xml" href="favicon.svg">
        <link rel="alternate icon" type="image/png" href="favicon.png">
        <link rel="apple-touch-icon" href="/apple-touch-icon.png">
        <link rel="manifest" href="manifest.webmanifest">
    </head>
    <body>
        <div id="top">
            <div id="menu">
                <button id="loading" class="loading"><span class="menubuttonicon"><img src="icons/loading.png"/></span>&#8203;<span class="menubuttontext"><span class="hideonmobile">&nbsp;Loading...</span></span></button>
                <button id="serverOffline" class="problem"><span class="menubuttonicon"><img src="icons/offline.png"/></span>&#8203;<span class="menubuttontext"><span class="hideonmobile">&nbsp;SERVER&nbsp;OFFLINE</span></span></button>
                <button id="infoButton"><span class="menubuttonicon"><img src="icons/info.png"/></span>&nbsp;<span class="menubuttontext">Info</span></button>
                <button id="configButton"><span class="menubuttonicon"><img src="icons/config.png"/></span>&nbsp;<span class="menubuttontext">Conf<span class="hideonmobile">ig</span></span></button>
                <button id="trackTableButton"><span class="menubuttonicon"><img src="icons/tracktable.png"/></span>&nbsp;<span class="menubuttontext"><span class="hideonmobile">Track</span> Table</span></button>
            </div>
            <h1 id="appname">PLANE&nbsp;/&nbsp;SAILING</h1>
        </div>
        <div id="map"></div>
        <div id="infoPanel" class="rightbox">
            <h2>PLANE&nbsp;/&nbsp;SAILING</h2>
            <p>The home situational awareness display nobody wanted or needed!</p>
            <p>This software displays what's currently being tracked by ADS-B, AIS and APRS radio packet receivers at the base station.</p>
            <p>Made by <a href="https://ianrenton.com" target='_blank'>Ian Renton</a></p>
            <p><a href="https://ianrenton.com/hardware/planesailing" target='_blank'>Project Info</a> &nbsp; &nbsp; <a href="https://github.com/ianrenton/planesailing" target='_blank'>Client Source Code</a> &nbsp; &nbsp; <a href="https://github.com/ianrenton/planesailing-server" target='_blank'>Server Source Code</a></p>
            <p>Client version: <span id="clientVersion" class="highlight">Unknown</span> &nbsp; Server version: <span id="serverVersion" class="highlight">Unknown</span></p>
            <p>Last queried the server at: <span id="lastQueryTime" class="highlight">Never</span></p>
            <p>This instance is currently tracking <span id="aircraftCount" class="highlight">0</span>&nbsp;aircraft, <span id="shipCount" class="highlight">0</span>&nbsp;ships and <span id="aprsCount" class="highlight">0</span>&nbsp;APRS&nbsp;contacts.</p>
            <p>Uptime: <span id="uptime" class="highlight">Unknown</span></p>
            <p>Server resource utilisation: &nbsp;<span id="cpuLoad" class="highlight">0%</span>&nbsp;CPU&nbsp; <span id="memUsed" class="highlight">0%</span>&nbsp;memory&nbsp; <span id="diskUsed" class="highlight">0%</span>&nbsp;disk</p>
        </div>

        <div id="configPanel" class="rightbox">
            <h2>CONFIGURATION</h2>
            <div class="configPanelSection">
                Select Theme:<button class="configButton" id="lightButton">‚òÄÔ∏è&nbsp;Light</button><button class="configButton" id="darkButton">üåô&nbsp;Dark</button>
            </div>
            <div class="configPanelSection">
                <p>Show Overlays:</p> 
                <label for="showAirspaceLayer" class="configLabel"><input type="checkbox" id="showAirspaceLayer" name="showAirspaceLayer">&nbsp;Airspace (OpenAIP)</label>
                <label for="showMaritimeLayer" class="configLabel"><input type="checkbox" id="showMaritimeLayer" name="showMaritimeLayer">&nbsp;Maritime (OpenSeaMap)</label>
            </div>
            <div class="configPanelSection">
                <p>Show Track Types:</p> 
                <label for="showAircraft" class="configLabel"><input type="checkbox" id="showAircraft" name="showAircraft" checked="true">&nbsp;Aircraft</label>
                <label for="showShips" class="configLabel"><input type="checkbox" id="showShips" name="showShips" checked="true">&nbsp;Ships</label>
                <label for="showAISShoreStations" class="configLabel"><input type="checkbox" id="showAISShoreStations" name="showAISShoreStations" checked="true">&nbsp;AIS&nbsp;Shore&nbsp;Stations</label>
                <label for="showATONs" class="configLabel"><input type="checkbox" id="showATONs" name="showATONs" checked="true">&nbsp;AIS&nbsp;Aids&nbsp;to&nbsp;Navigation</label>
                <label for="showAPRS" class="configLabel"><input type="checkbox" id="showAPRS" name="showAPRS" checked="true">&nbsp;APRS Tracks</label>
                <label for="showAirports" class="configLabel"><input type="checkbox" id="showAirports" name="showAirports" checked="true">&nbsp;Airports</label>
                <label for="showSeaPorts" class="configLabel"><input type="checkbox" id="showSeaPorts" name="showSeaPorts" checked="true">&nbsp;Sea&nbsp;Ports</label>
                <label for="showBase" class="configLabel"><input type="checkbox" id="showBase" name="showBase" checked="true">&nbsp;Base&nbsp;Station</label>
            </div>
            <div class="configPanelSection">
                <label for="enableDR" class="configLabel"><input type="checkbox" id="enableDR" name="enableDR" checked="true">&nbsp;Enable&nbsp;Dead&nbsp;Reckoning</label>
            </div>
            <div class="configPanelSection">
                <label for="snailTrails">Snail Trails:</label>
                <select id="snailTrails" class="configSelect">
                    <option value="0">None</option>
                    <option value="1" selected="selected">Only Selected</option>
                    <option value="2">All Tracks</option>
                </select>
                <select id="snailTrailLength" class="configSelect">
                    <option value="10">10 points</option>
                    <option value="20">20 points</option>
                    <option value="50">50 points</option>
                    <option value="100">100 points</option>
                    <option value="200">200 points</option>
                    <option value="500" selected="selected">500 points</option>
                    <option value="999999">Forever</option>
                </select>
            </div>
            <div class="configPanelSection">
                <label for="lanMode" class="configLabel"><input type="checkbox" id="lanMode" name="lanMode">&nbsp;LAN&nbsp;Mode</label>
            </div>

        </div>

        <div id="trackTablePanel" class="rightbox">
            <div id="tracktablearea"><table id="tracktable"></table></div>
        </div>

        <script src="code.js"></script>
        <script>
            if ((window.location.protocol == "http:" || window.location.protocol == "https:") && 'serviceWorker' in navigator) {
              navigator.serviceWorker.register('service-worker.js');
            }
        </script>
    </body>
</html>
